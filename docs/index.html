<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Transifex  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="Transifex  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Transifex Docs</a> (92% documented)</p>
        <p class="header-right"><a href="https://github.com/transifex/transifex-swift"><img src="img/gh.png" alt="GitHub"/>View on GitHub</a></p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Transifex</a>
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/PluralUtils.html">PluralUtils</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXCompositePolicy.html">TXCompositePolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXDecoratorCache.html">TXDecoratorCache</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXDiskCacheProvider.html">TXDiskCacheProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXFileOutputCacheDecorator.html">TXFileOutputCacheDecorator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXLocaleState.html">TXLocaleState</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXLogger.html">TXLogger</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXMemoryCache.html">TXMemoryCache</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXNative.html">TXNative</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXNoOpCache.html">TXNoOpCache</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXPreferredLocaleProvider.html">TXPreferredLocaleProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXProviderBasedCache.html">TXProviderBasedCache</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXPseudoTranslationPolicy.html">TXPseudoTranslationPolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXPushConfiguration.html">TXPushConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXReadonlyCacheDecorator.html">TXReadonlyCacheDecorator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXRenderedSourceErrorPolicy.html">TXRenderedSourceErrorPolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXSourceString.html">TXSourceString</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXSourceStringPolicy.html">TXSourceStringPolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXStandardCache.html">TXStandardCache</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXStandardLogHandler.html">TXStandardLogHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXStringUpdateFilterCache.html">TXStringUpdateFilterCache</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TXWrappedStringPolicy.html">TXWrappedStringPolicy</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/TXCDSError.html">TXCDSError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TXCDSWarning.html">TXCDSWarning</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TXCacheUpdatePolicy.html">TXCacheUpdatePolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TXLogLevel.html">TXLogLevel</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TXRenderingStategy.html">TXRenderingStategy</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:9Transifex13txGenerateKey12sourceString7contextS2S_SSSgtF">txGenerateKey(sourceString:context:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/TXCache.html">TXCache</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TXCacheProvider.html">TXCacheProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TXCurrentLocaleProvider.html">TXCurrentLocaleProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TXErrorPolicy.html">TXErrorPolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TXLogHandler.html">TXLogHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TXMissingPolicy.html">TXMissingPolicy</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Transifex15TXLocaleStringsa">TXLocaleStrings</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Transifex23TXPullCompletionHandlera">TXPullCompletionHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Transifex12TXStringInfoa">TXStringInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Transifex14TXTranslationsa">TXTranslations</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='transifex-ios-sdk' class='heading'>Transifex iOS SDK</h1>

<p align="left">
<img src="https://img.shields.io/badge/platforms-iOS-lightgrey.svg">
<img src="https://github.com/transifex/transifex-swift/workflows/CI/badge.svg">
</p>

<p>Transifex iOS SDK is a collection of tools to easily localize your iOS applications
using <a href="https://www.transifex.com/native/">Transifex Native</a>.</p>

<p>The SDK can fetch translations over the air (OTA), manages an internal cache of translations
and works seamlessly without requiring any changes in the source code of the app by the
developer.</p>

<p>Both Objective-C and Swift projects are supported. SwiftUI is also supported as of v2.0.3.</p>

<p>The package is built using Swift 5.3, as it currently requires a bundled resource to be
present in the package (feature introduced in version 5.3).</p>

<p>Learn more about <a href="https://developers.transifex.com/docs/native">Transifex Native</a>.</p>

<p>The full SDK documentation is available at <a href="https://transifex.github.io/transifex-swift/">https://transifex.github.io/transifex-swift/</a>.</p>
<h2 id='minimum-requirements' class='heading'>Minimum Requirements</h2>

<table><thead>
<tr>
<th>Swift</th>
<th>Xcode</th>
<th>Platforms</th>
</tr>
</thead><tbody>
<tr>
<td>Swift 5.3</td>
<td>Xcode 15.4</td>
<td>iOS 12.0, watchOS 4.0, tvOS 12.0, macOS 10.13</td>
</tr>
</tbody></table>
<h2 id='usage' class='heading'>Usage</h2>

<p>The SDK allows you to keep using the same localization hooks that the iOS framework
provides, such as <code>NSLocalizedString</code>, <code>String.localizedStringWithFormat(format:...)</code>, etc, while at the same time taking advantage of the features that Transifex Native offers, such as OTA translations.</p>

<p>Below you can find examples of the SDK initialization both in Swift and Objective-C for
an app that uses the English language (<code>en</code>) as its source locale and it&rsquo;s localized both in
Greek (<code>el</code>) and French (<code>fr</code>).</p>

<p>Keep in mind that in the sample codes below you will have to replace
<code>&lt;transifex_token&gt;</code> and <code>&lt;transifex_secret&gt;</code> with the actual token and secret that
are associated with your Transifex project and resource.</p>
<h3 id='sdk-configuration-swift' class='heading'>SDK configuration (Swift)</h3>

<p>To complete the setup you will need to:</p>

<p>Add &ldquo;Transifex&rdquo; as a package dependency in Xcode, by selecting your project, heading over to the &lsquo;Swift Packages&rsquo; section, tapping on the &lsquo;+&rsquo; button, and entering the public <a href="https://github.com/transifex/transifex-swift/">repository URL</a> in the search field.
Initialize the SDK in your application using the <code>transifex_token</code> provided by your Transifex Native project.</p>

<p>Here is a basic configuration example in Swift:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Transifex</span>

<span class="kd">@UIApplicationMain</span>
<span class="kd">class</span> <span class="kt">AppDelegate</span><span class="p">:</span> <span class="kt">UIResponder</span><span class="p">,</span> <span class="kt">UIApplicationDelegate</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplication</span><span class="o">.</span><span class="kt">LaunchOptionsKey</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="kt">TXNative</span><span class="o">.</span><span class="nf">initialize</span><span class="p">(</span>
            <span class="nv">locales</span><span class="p">:</span> <span class="kt">TXLocaleState</span><span class="p">(</span><span class="nv">sourceLocale</span><span class="p">:</span> <span class="s">"en"</span><span class="p">,</span>
                                   <span class="nv">appLocales</span><span class="p">:</span> <span class="p">[</span><span class="s">"en"</span><span class="p">,</span> <span class="s">"el"</span><span class="p">,</span> <span class="s">"fr"</span><span class="p">]),</span>
            <span class="nv">token</span><span class="p">:</span> <span class="s">"&lt;transifex_token&gt;"</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>And a more complex one, defining a policy for handling missing translations and providing a secret for programmatically pushing strings.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Transifex</span>

<span class="kd">@UIApplicationMain</span>
<span class="kd">class</span> <span class="kt">AppDelegate</span><span class="p">:</span> <span class="kt">UIResponder</span><span class="p">,</span> <span class="kt">UIApplicationDelegate</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplication</span><span class="o">.</span><span class="kt">LaunchOptionsKey</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="kt">TXNative</span><span class="o">.</span><span class="nf">initialize</span><span class="p">(</span>
            <span class="nv">locales</span><span class="p">:</span> <span class="kt">TXLocaleState</span><span class="p">(</span><span class="nv">sourceLocale</span><span class="p">:</span> <span class="s">"en"</span><span class="p">,</span>
                                   <span class="nv">appLocales</span><span class="p">:</span> <span class="p">[</span><span class="s">"en"</span><span class="p">,</span> <span class="s">"el"</span><span class="p">,</span> <span class="s">"fr"</span><span class="p">]),</span>
            <span class="nv">token</span><span class="p">:</span> <span class="s">"&lt;transifex_token&gt;"</span><span class="p">,</span>
            <span class="nv">secret</span><span class="p">:</span> <span class="s">"&lt;transifex_secret&gt;"</span><span class="p">,</span>
            <span class="nv">missingPolicy</span><span class="p">:</span> <span class="kt">TXCompositePolicy</span><span class="p">(</span>
                <span class="kt">TXPseudoTranslationPolicy</span><span class="p">(),</span>
                <span class="kt">TXWrappedStringPolicy</span><span class="p">(</span><span class="nv">start</span><span class="p">:</span> <span class="s">"["</span><span class="p">,</span> <span class="nv">end</span><span class="p">:</span> <span class="s">"]"</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1">/// Optional: Fetch translations on launch</span>
        <span class="kt">TXNative</span><span class="o">.</span><span class="nf">fetchTranslations</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>For Swift projects, you  will also need to copy the <code>TXNativeExtensions.swift</code> file in
your project and include it in all of the targets that call any of the following Swift methods:</p>

<ul>
<li><code>String.localizedStringWithFormat(format:...)</code></li>
<li><code>NSString.localizedStringWithFormat(format:...)</code></li>
</ul>

<p>If none of your application targets call any of the above methods, then you don&rsquo;t need to
add this file to your project.</p>

<p>If you are interested in setting up the SDK for your application extensions as well, you can look into the related section in the <a href="https://transifex.github.io/transifex-swift/#application-extensions">documentation</a>. The documentation also covers more special cases, such as providing a custom NSURLSession or configuring logging.</p>
<h3 id='sdk-configuration-objective-c' class='heading'>SDK configuration (Objective-C)</h3>
<pre class="highlight objective_c"><code><span class="k">@import</span> <span class="n">Transifex</span><span class="p">;</span>

<span class="k">@implementation</span> <span class="nc">AppDelegate</span>

<span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions</span><span class="p">:(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span> <span class="p">{</span>
    <span class="n">TXLocaleState</span> <span class="o">*</span><span class="n">localeState</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TXLocaleState</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithSourceLocale</span><span class="p">:</span><span class="s">@"en"</span>
                                                                  <span class="nl">appLocales:</span><span class="p">@[</span>
                                                                    <span class="s">@"en"</span><span class="p">,</span>
                                                                    <span class="s">@"el"</span><span class="p">,</span>
                                                                    <span class="s">@"fr"</span>
                                                                  <span class="p">]</span>
                                                       <span class="nl">currentLocaleProvider:</span><span class="nb">nil</span><span class="p">];</span>
    <span class="n">TXPseudoTranslationPolicy</span> <span class="o">*</span><span class="n">pseudoTranslationPolicy</span> <span class="o">=</span> <span class="p">[</span><span class="n">TXPseudoTranslationPolicy</span> <span class="nf">new</span><span class="p">];</span>
    <span class="n">TXWrappedStringPolicy</span> <span class="o">*</span><span class="n">wrappedStringPolicy</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TXWrappedStringPolicy</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithStart</span><span class="p">:</span><span class="s">@"["</span>
                                                                                          <span class="nl">end:</span><span class="s">@"]"</span><span class="p">];</span>
    <span class="n">TXCompositePolicy</span> <span class="o">*</span><span class="n">compositePolicy</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TXCompositePolicy</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">:@[</span>
        <span class="n">pseudoTranslationPolicy</span><span class="p">,</span>
        <span class="n">wrappedStringPolicy</span>
    <span class="p">]];</span>

    <span class="p">[</span><span class="n">TXNative</span> <span class="nf">initializeWithLocales</span><span class="p">:</span><span class="n">localeState</span>
                              <span class="nl">token:</span><span class="s">@"&lt;transifex_token&gt;"</span>
                             <span class="nl">secret:</span><span class="s">@"&lt;transifex_secret&gt;"</span>
                            <span class="nl">cdsHost:</span><span class="nb">nil</span>
                            <span class="nl">session:</span><span class="nb">nil</span>
                              <span class="nl">cache:</span><span class="nb">nil</span>
                      <span class="nl">missingPolicy:</span><span class="n">compositePolicy</span>
                        <span class="nl">errorPolicy:</span><span class="nb">nil</span>
                  <span class="nl">renderingStrategy:</span><span class="n">TXRenderingStategyPlatform</span>
                             <span class="nl">logger:</span><span class="nb">nil</span>
                         <span class="nl">filterTags:</span><span class="nb">nil</span>
                       <span class="nl">filterStatus:</span><span class="nb">nil</span><span class="p">];</span>

    <span class="c1">/// Optional: Fetch translations on launch</span>
    <span class="p">[</span><span class="n">TXNative</span> <span class="nf">fetchTranslations</span><span class="p">:</span><span class="nb">nil</span>
                           <span class="nl">tags:</span><span class="nb">nil</span>
                         <span class="nl">status:</span><span class="nb">nil</span>
              <span class="nl">completionHandler:</span><span class="nb">nil</span><span class="p">];</span>

    <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<h3 id='alternative-initialization' class='heading'>Alternative initialization</h3>

<p>If you want your application to make use of the default behavior, you can initialize the
SDK using a simpler initilization method:</p>
<h4 id='swift' class='heading'>Swift</h4>
<pre class="highlight swift"><code><span class="kt">TXNative</span><span class="o">.</span><span class="nf">initialize</span><span class="p">(</span>
    <span class="nv">locales</span><span class="p">:</span> <span class="n">localeState</span><span class="p">,</span>
    <span class="nv">token</span><span class="p">:</span> <span class="s">"&lt;transifex_token&gt;"</span>
<span class="p">)</span>
</code></pre>
<h4 id='objective-c' class='heading'>Objective-C</h4>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">TXNative</span> <span class="nf">initializeWithLocales</span><span class="p">:</span><span class="n">localeState</span>
                          <span class="nl">token:</span><span class="s">@"&lt;transifex_token&gt;"</span><span class="p">];</span>
</code></pre>
<h3 id='fetching-translations' class='heading'>Fetching translations</h3>

<p>As soon as <code>fetchTranslations</code> is called, the SDK will attempt to download the
translations for all locales that are defined in the initialization of <code><a href="Classes/TXNative.html">TXNative</a></code>.</p>

<p>The <code>fetchTranslations</code> method in the above examples is called as soon as the
application launches, but that&rsquo;s not required. Depending on the application, the developer
might choose to call that method whenever it is most appropriate (for example, each time
the application is brought to the foreground or when the internet connectivity is
established).</p>
<h3 id='pushing-source-content-programmatically' class='heading'>Pushing source content programmatically</h3>

<p>In order to push the source translations to CDS, you will first need to prepare an array of
<code><a href="Classes/TXSourceString.html">TXSourceString</a></code> objects that will hold all the necessary information needed for CDS.
You can refer to the <code><a href="Classes/TXSourceString.html">TXSourceString</a></code> class for more information, or you can look at the
list below:</p>

<ul>
<li><code>key</code> (required): The key of the source string, generated via the public <code>txGenerateKey()</code>
method.</li>
<li><code>sourceString</code> (required): The actual source string.</li>
<li><code>developerComment</code> (optional): An optional comment provided by the developer to
assist the translators.</li>
<li><code>occurrences</code> (required): A list of relative paths where the source string is located in
the project.</li>
<li><code>tags</code> (optional): An optional list of tags that will appear alongside the source string in
the Transifex dashboard.</li>
<li><code>characterLimit</code> (requred): Source string limit that should be respected by translators.</li>
<li><code>context</code> (optional): An optional list of strings that provide more context.</li>
</ul>

<p>After building an array of <code><a href="Classes/TXSourceString.html">TXSourceString</a></code> objects, use the <code>pushTranslations</code> method
to push them to CDS. You can optionally set the <code>purge</code> argument to <code>true</code> (defaults to
<code>false</code>) to replace the entire resource content. The completion handler can be used to
get notified asynchronously whether the request was successful or not.</p>
<h3 id='pushing-source-content-using-the-cli' class='heading'>Pushing source content using the CLI</h3>

<p>Use the <a href="https://github.com/transifex/transifex-swift-cli">Transifex CLI-swift</a> to collect all your app content and send it to Transifex for translation. To perform this action you will need the <code>transifex_secret</code> token that you created in your Transifex Native project.</p>
<pre class="highlight plaintext"><code>txios-cli push --token &lt;transifex_token&gt; --secret &lt;transifex_secret&gt; --project MyApp.xcodeproj
</code></pre>

<p>You may also use the <code>--excluded-files</code> option in the <code>push</code> command, providing a space separated list of filenames to be excluded from processing.</p>

<p>Example:</p>
<pre class="highlight plaintext"><code>txios-cli push ... --excluded-files ExcludedFile1.strings ExcludedFile2.strings
</code></pre>

<p>For more details and additional options, please refer to the related <a href="https://github.com/transifex/transifex-swift-cli">Transifex CLI-swift</a> documentation.</p>
<h3 id='display-translated-content' class='heading'>Display translated content</h3>

<p>By default, the iOS Native SDK uses the current locale set on the iOS device and also listens for changes to the current locale.</p>

<p>Developers can override this setting by providing a custom class that conforms to the <a href="https://transifex.github.io/transifex-swift/Protocols/TXCurrentLocaleProvider.html">TXCurrentLocaleProvider</a> protocol and returns a specific locale code in the <a href="https://transifex.github.io/transifex-swift/Protocols/TXCurrentLocaleProvider.html#/c:@M@Transifex@objc(pl)TXCurrentLocaleProvider(im)currentLocale">currentLocale()</a> method.</p>

<p>This custom locale provider can then be provided during the initialization of the <a href="https://transifex.github.io/transifex-swift/Classes/TXLocaleState.html">TXLocaleState</a> object as its final argument (<a href="https://transifex.github.io/transifex-swift/Classes/TXLocaleState.html#/c:@M@Transifex@objc(cs)TXLocaleState(im)initWithSourceLocale:appLocales:currentLocaleProvider:">currentLocaleProvider</a>):</p>

<p>Swift example:</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">CustomLocaleProvider</span> <span class="p">:</span> <span class="kt">TXCurrentLocaleProvider</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">currentLocale</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"el"</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">locales</span> <span class="o">=</span> <span class="kt">TXLocaleState</span><span class="p">(</span><span class="nv">sourceLocale</span><span class="p">:</span> <span class="s">"en"</span><span class="p">,</span>
                            <span class="nv">appLocales</span><span class="p">:</span> <span class="p">[</span><span class="s">"en"</span><span class="p">,</span> <span class="s">"el"</span><span class="p">],</span>
                            <span class="nv">currentLocaleProvider</span><span class="p">:</span> <span class="kt">CustomLocaleProvider</span><span class="p">())</span>

<span class="kt">TXNative</span><span class="o">.</span><span class="nf">initialize</span><span class="p">(</span><span class="nv">locales</span><span class="p">:</span> <span class="n">locales</span><span class="p">,</span>
                    <span class="nv">token</span><span class="p">:</span> <span class="s">"&lt;token&gt;"</span><span class="p">)</span>
</code></pre>

<p>Objective-C example:</p>
<pre class="highlight objective_c"><code><span class="k">@interface</span> <span class="nc">CustomLocaleProvider</span> <span class="p">:</span> <span class="nc">NSObject</span> <span class="o">&lt;</span><span class="n">TXCurrentLocaleProvider</span><span class="o">&gt;</span>

<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">CustomLocaleProvider</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">currentLocale</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">@"el"</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@end</span>

<span class="c1">/// ...</span>

<span class="n">TXLocaleState</span> <span class="o">*</span><span class="n">locales</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TXLocaleState</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithSourceLocale</span><span class="p">:</span><span class="s">@"en"</span>
                                                          <span class="nl">appLocales:</span><span class="p">@[</span><span class="s">@"en"</span><span class="p">,</span> <span class="s">@"el"</span><span class="p">]</span>
                                               <span class="nl">currentLocaleProvider:</span><span class="n">customLocale</span><span class="p">];</span>

<span class="p">[</span><span class="n">TXNative</span> <span class="nf">initializeWithLocales</span><span class="p">:</span><span class="n">locales</span>
                          <span class="nl">token:</span><span class="s">@"&lt;token&gt;"</span><span class="p">];</span>
</code></pre>

<p>It is worth noting that the iOS SDK manages an internal cache of translations in the file system of the translations fetched over-the-air.</p>

<p>You can find more about <a href="https://transifex.github.io/transifex-swift/#standard-cache">caching in the documentation</a>.</p>
<h3 id='standard-cache' class='heading'>Standard Cache</h3>

<p>The default cache strategy used by the SDK, if no other cache is provided by the
developer, is the <code>TXStandardCache.getCache()</code>. The standard cache operates
by making use of the publicly exposed classes and protocols from the Cache.swift file of the
SDK, so it&rsquo;s easy to construct another cache strategy if that&rsquo;s desired.</p>

<p>The standard cache is initialized with a memory cache (<code><a href="Classes/TXMemoryCache.html">TXMemoryCache</a></code>) that manages all
cached entries in memory. After the memory cache gets initialized, it tries to look up if
there are any already stored cache files in the file system using the
<code><a href="Classes/TXDiskCacheProvider.html">TXDiskCacheProvider</a></code> class:</p>

<ul>
<li>The first cache provider is the bundle cache provider, that looks up for an already
created cache file in the main application bundle of the app that may have been offered
by the developer.</li>
<li>The second cache provider looks up for a cache file in the application sandbox directory
(using the optional app group identifier argument if provided), in case the app had  already
downloaded the translations from the server from a previous launch.</li>
</ul>

<p>Those two providers are used to initialize the memory cache using an update policy
(<code><a href="Enums/TXCacheUpdatePolicy.html">TXCacheUpdatePolicy</a></code>) which is optionally provided by the developer and defaults to
the <code>replaceAll</code> value.</p>

<p>After the cached entries have updated the memory cache, the cache is ready to be used.</p>

<p>Whenever new translations are fetched from the server using the <code>fetchTranslations()</code>
method, the standard cache is updated and those translations are stored as-is in the file
system, in the same cache file used by the aforementioned second cache provider so that
they are available on the next app launch.</p>
<h4 id='alternative-cache-strategy' class='heading'>Alternative cache strategy</h4>

<p>You might want to update the internal memory cache as soon as the newly downloaded
translations are available and always update all entries, so that the update policy can
also be ommited.</p>

<p>In order to achieve that, you can create a new  <code><a href="Classes/TXDecoratorCache.html">TXDecoratorCache</a></code> subclass or create a
method that returns a <code><a href="Protocols/TXCache.html">TXCache</a></code> instance, just like in the <code>TXStandardCache.getCache()</code>
case.</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getCustomCache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">TXCache</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kt">TXFileOutputCacheDecorator</span><span class="p">(</span>
        <span class="nv">fileURL</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
        <span class="nv">internalCache</span><span class="p">:</span> <span class="o">...</span>
    <span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>This way, whenever the cache is updated with the new translations from the
 <code>fetchTranslations()</code> method, the <code>update()</code> call will propagate to the internal
 <code><a href="Classes/TXMemoryCache.html">TXMemoryCache</a></code> and update all of its entries.</p>
<h3 id='application-extensions' class='heading'>Application Extensions</h3>

<p>In order to add the SDK to an application extension target, be sure to include the
<code>Transifex</code> library in the &lsquo;Frameworks and Libraries&rsquo; section of the General
settings of the application extension you are working on.</p>

<p>Furthermore, in case Xcode produces a &ldquo;No such module &lsquo;Transifex&rsquo;&rdquo; error on the
<code>import Transifex</code> statements of the extension files, be sure to add the
<code>$(SRCROOT)</code> path in the &lsquo;Framework Search Paths&rsquo; setting under the Build Settings of the
application extension target.</p>

<p>In order to make the Transifex SDK cache file visible by both the extension and the main
application targets, you would need to enable the App Groups capability in both the main
application and the extension targets and use an existing or create a new app group
identifier. Then, you would need to initialize the Transifex SDK with the <code><a href="Classes/TXStandardCache.html">TXStandardCache</a></code>
passing that app group identifier as the <code>groupIdentifier</code> argument.</p>
<h3 id='url-session' class='heading'>URL Session</h3>

<p>By default, an ephemeral URLSession object with no cache is used for all requests made
to the CDS service.</p>

<p>For more control over the networking layer, an optional <code>session</code> parameter is exposed in
the <code>initialize()</code> method of the <code><a href="Classes/TXNative.html">TXNative</a></code> cache, so that developers can offer their
own session object, if that&rsquo;s desirable (e.g. for more fine grained cache control, certificate
pinning etc).</p>
<h3 id='logging' class='heading'>Logging</h3>

<p>By default, warning and error messages produced by the SDK are logged in the console
using the <code>print()</code> method. Developers can offer a class that conforms to the <code><a href="Classes/TXLogger.html">TXLogger</a></code>
protocol so that they can control the logging mechanism of the SDK or make use of the
public <code><a href="Classes/TXStandardLogHandler.html">TXStandardLogHandler</a></code> class to control the log level printed to the console.</p>
<h2 id='limitations' class='heading'>Limitations</h2>
<h3 id='special-cases' class='heading'>Special cases</h3>

<p>Localized strings that are being managed by the OS are not supported by the Transifex
SDK:</p>

<ul>
<li>Localized entries found in the  <code>Info.plist</code> file (e.g. Bundle Display Name and Usage
Description strings) that are included in the <code>InfoPList.strings</code> file.</li>
<li>Localized entried found in the <code>Root.plist</code> of the <code>Settings.bundle</code> of an app that
exposes its Settings to the iOS Settings app that are included in the <code>Root.strings</code> file.</li>
</ul>
<h3 id='icu-support' class='heading'>ICU support</h3>

<p>Also, currently SDK supports only supports the platform rendering strategy, so if the ICU
rendering strategy is passed during the initialization, translations will trigger the error
policy.</p>
<h3 id='internet-connectivity' class='heading'>Internet connectivity</h3>

<p>If the device cannot access the Internet when <code>fetchTranslations()</code> method is called,
the internal logic of the SDK doesn&rsquo;t retry or wait for a connection, in order to preserve
resources. Developers are free to detect when internet connectivity is regained in order to
re-call that method.</p>
<h2 id='sample-applications' class='heading'>Sample applications</h2>

<p>You can find two <a href="https://github.com/transifex/transifex-native-sandbox/tree/master/ios">sample applications</a> that make use of the Transifex iOS SDK, in Swift and Objective-C.</p>
<h2 id='documentation' class='heading'>Documentation</h2>

<p>The <a href="https://transifex.github.io/transifex-swift/">documentation of this SDK</a> has been
generated using <a href="https://github.com/realm/jazzy">Jazzy</a> using the following command:</p>
<pre class="highlight plaintext"><code>jazzy -g https://github.com/transifex/transifex-swift/ -m Transifex
</code></pre>
<h2 id='license' class='heading'>License</h2>

<p>Licensed under Apache License 2.0, see <a href="LICENSE">LICENSE</a> file.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2025 <a class="link" href="" target="_blank" rel="external noopener"></a>. All rights reserved. (Last updated: 2025-02-19)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.15.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
